<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>VolumeApp - Mesociclo de Hipertrofia</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">

    <!-- Mobile-specific meta tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="VolumeApp">
    <meta name="application-name" content="VolumeApp">
    <meta name="msapplication-TileColor" content="#667eea">
    <meta name="theme-color" content="#667eea">

    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/icon.svg">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/icon.svg">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/icons/icon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/icon.svg">

    <!-- Preload critical resources -->
    <link rel="preload" href="styles.css?v=1.5.0" as="style">
    <link rel="preload" href="script.js?v=1.5.0" as="script">

    <link rel="stylesheet" href="styles.css?v=1.5.0">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome with multiple CDN fallbacks -->
    <link id="fontawesome-primary" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" crossorigin="anonymous">
    <link id="fontawesome-fallback1" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet" crossorigin="anonymous" disabled>
    <link id="fontawesome-fallback2" href="https://unpkg.com/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet" crossorigin="anonymous" disabled>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1><i class="fas fa-dumbbell" data-fallback="üèã"></i> VolumeApp</h1>
                <div class="header-controls">
                    <div class="week-selector">
                        <label for="week-select">Semana:</label>
                        <select id="week-select">
                            <option value="1">Semana 1-2 (MEV)</option>
                            <option value="3">Semana 3-4 (MAV)</option>
                            <option value="5">Semana 5 (MAV Alto)</option>
                            <option value="6">Semana 6 (MRV)</option>
                            <option value="7">Semana 7 (Deload)</option>
                        </select>
                    </div>
                    <div class="theme-toggle">
                        <button id="theme-toggle" class="theme-toggle-btn" onclick="toggleTheme()" title="Alternar tema">
                            <i class="fas fa-moon" data-fallback="üåô"></i>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav-tabs">
            <button class="nav-tab active" data-day="1">
                <i class="fas fa-heart" data-fallback="‚ô•"></i>
                <span>Peito + Costas</span>
            </button>
            <button class="nav-tab" data-day="2">
                <i class="fas fa-running" data-fallback="üèÉ"></i>
                <span>Pernas (Quad)</span>
            </button>
            <button class="nav-tab" data-day="3">
                <i class="fas fa-fist-raised" data-fallback="‚úä"></i>
                <span>Ombros + Bra√ßos</span>
            </button>
            <button class="nav-tab" data-day="4">
                <i class="fas fa-walking" data-fallback="üö∂"></i>
                <span>Pernas (Post)</span>
            </button>
            <button class="nav-tab" data-day="5">
                <i class="fas fa-expand-arrows-alt" data-fallback="‚Üî"></i>
                <span>Upper Mix</span>
            </button>
            <button class="nav-tab glossary-tab" onclick="toggleGlossary()">üìñ Gloss√°rio</button>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <div class="workout-header">
                <div class="workout-header-left">
                    <h2 id="workout-title">Dia 1 ‚Äì Peito + Costas</h2>
                    
                </div>
                <div class="workout-header-right">
                    <div class="workout-info">
                        <span class="duration"><i class="fas fa-clock"></i> 75min</span>
                        <span class="rpe-info" id="rpe-info">RPE: 7</span>
                    </div>
                </div>
            </div>

            <div class="exercises-container" id="exercises-container">
                <!-- Exercises will be dynamically loaded here -->
            </div>

            <!-- Glossary Section -->
            <div id="glossary-section" class="glossary-section hidden">
                <div class="glossary-header">
                    <h2>üìñ Gloss√°rio de Treino</h2>
                    <p>Entenda os termos t√©cnicos utilizados no programa</p>
                </div>
                
                <div class="glossary-grid">
                    <div class="glossary-card">
                        <h3>RPE (Rate of Perceived Exertion)</h3>
                        <div class="glossary-content">
                            <p><strong>Escala de esfor√ßo percebido (0-10)</strong></p>
                            <ul>
                                <li><strong>RPE 6-7:</strong> Moderado, ainda com v√°rias reps na reserva</li>
                                <li><strong>RPE 8:</strong> Dif√≠cil, 2-3 reps na reserva</li>
                                <li><strong>RPE 9:</strong> Muito dif√≠cil, 1 rep na reserva</li>
                                <li><strong>RPE 10:</strong> Falha muscular completa</li>
                            </ul>
                            <div class="tip">üí° <strong>Dica:</strong> Exerc√≠cios compostos nunca devem chegar a RPE 10</div>
                        </div>
                    </div>

                    <div class="glossary-card">
                        <h3>MEV (Minimum Effective Volume)</h3>
                        <div class="glossary-content">
                            <p><strong>Volume m√≠nimo que gera progresso</strong></p>
                            <p>√â a menor quantidade de treino necess√°ria para estimular adapta√ß√µes musculares. Ideal para iniciantes ou fases de manuten√ß√£o.</p>
                            <div class="example">üìä <strong>Exemplo:</strong> 8-12 s√©ries por grupo muscular por semana</div>
                        </div>
                    </div>

                    <div class="glossary-card">
                        <h3>MAV (Maximum Adaptive Volume)</h3>
                        <div class="glossary-content">
                            <p><strong>Faixa √≥tima para m√°ximo crescimento</strong></p>
                            <p>Volume de treino que proporciona os melhores ganhos de hipertrofia sem comprometer a recupera√ß√£o.</p>
                            <div class="example">üìä <strong>Exemplo:</strong> 12-20 s√©ries por grupo muscular por semana</div>
                        </div>
                    </div>

                    <div class="glossary-card">
                        <h3>MRV (Maximum Recoverable Volume)</h3>
                        <div class="glossary-content">
                            <p><strong>Volume m√°ximo que consegues recuperar</strong></p>
                            <p>Limite superior de volume de treino que ainda permite recupera√ß√£o adequada. Acima disso, h√° overreaching.</p>
                            <div class="warning">‚ö†Ô∏è <strong>Aten√ß√£o:</strong> Usar apenas por per√≠odos curtos (1-2 semanas)</div>
                        </div>
                    </div>

                    <div class="glossary-card">
                        <h3>1RM (One Rep Max)</h3>
                        <div class="glossary-content">
                            <p><strong>M√°ximo peso que consegues levantar uma vez</strong></p>
                            <p>Refer√™ncia para calcular percentuais de treino. Usado para progress√£o em exerc√≠cios compostos.</p>
                            <div class="example">üìä <strong>Exemplo:</strong> Se 1RM = 100kg, ent√£o 70% = 70kg</div>
                        </div>
                    </div>

                    <div class="glossary-card">
                        <h3>Exerc√≠cios Compostos vs Isoladores</h3>
                        <div class="glossary-content">
                            <p><strong>Compostos:</strong> Trabalham m√∫ltiplos grupos musculares</p>
                            <ul>
                                <li>Progress√£o: Foco no aumento de peso (%1RM)</li>
                                <li>RPE m√°ximo: 9 (nunca falha)</li>
                                <li>Exemplos: Agachamento, supino, terra</li>
                            </ul>
                            <p><strong>Isoladores:</strong> Trabalham um grupo muscular espec√≠fico</p>
                            <ul>
                                <li>Progress√£o: Primeiro reps, depois peso</li>
                                <li>RPE 10: Permitido nas √∫ltimas semanas</li>
                                <li>Exemplos: Rosca b√≠ceps, eleva√ß√£o lateral</li>
                            </ul>
                        </div>
                    </div>

                    <div class="glossary-card">
                        <h3>Periodiza√ß√£o</h3>
                        <div class="glossary-content">
                            <p><strong>Organiza√ß√£o sistem√°tica do treino</strong></p>
                            <div class="periodization-flow">
                                <div class="phase">Semanas 1-2: MEV (Base)</div>
                                <div class="arrow">‚Üí</div>
                                <div class="phase">Semanas 3-4: MAV (Crescimento)</div>
                                <div class="arrow">‚Üí</div>
                                <div class="phase">Semana 5: MAV Alto</div>
                                <div class="arrow">‚Üí</div>
                                <div class="phase">Semana 6: MRV (Pico)</div>
                                <div class="arrow">‚Üí</div>
                                <div class="phase">Semana 7: Deload (Recupera√ß√£o)</div>
                            </div>
                        </div>
                    </div>

                    <div class="glossary-card">
                        <h3>Deload</h3>
                        <div class="glossary-content">
                            <p><strong>Semana de recupera√ß√£o ativa</strong></p>
                            <p>Redu√ß√£o do volume e intensidade para permitir supercompensa√ß√£o e preparar para o pr√≥ximo ciclo.</p>
                            <div class="tip">üí° <strong>Benef√≠cios:</strong> Reduz fadiga, previne overtraining, melhora performance</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Progress Summary -->
            <div class="progress-summary">
                <h3>Resumo da Sess√£o</h3>
                <div class="summary-stats">
                    <div class="stat">
                        <span class="stat-label">Volume Total</span>
                        <span class="stat-value" id="total-volume">0 kg</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">S√©ries Completadas</span>
                        <span class="stat-value" id="completed-sets">0/0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">RPE M√©dio</span>
                        <span class="stat-value" id="average-rpe">-</span>
                    </div>
                </div>

                <!-- Finish Workout Button -->
                <button id="finish-workout-btn" class="finish-workout-btn hidden" onclick="finishWorkout()">
                    <i class="fas fa-flag-checkered"></i>
                    Terminar Treino
                </button>
            </div>
        </main>

        <!-- Floating Action Button -->
        <button class="fab" id="fab-main" onclick="toggleFabMenu()">
            <i class="fas fa-plus" data-fallback="+"></i>
        </button>

        <!-- FAB Menu (hidden by default) -->
        <div class="fab-menu" id="fab-menu">
            <button class="fab fab-secondary" onclick="addSetToCurrentExercise()" title="Adicionar S√©rie">
                <i class="fas fa-plus-circle" data-fallback="‚äï"></i>
            </button>
            <button class="fab fab-secondary" onclick="startRestTimer()" title="Iniciar Timer">
                <i class="fas fa-clock" data-fallback="‚è∞"></i>
            </button>
            <button class="fab fab-secondary" onclick="openQuickNotes()" title="Notas R√°pidas">
                <i class="fas fa-sticky-note" data-fallback="üìù"></i>
            </button>
        </div>

        <!-- Rest Timer Modal -->
        <div class="modal" id="rest-timer-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Timer de Descanso</h3>
                    <button class="close-btn" onclick="closeRestTimer()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="timer-display">
                        <div class="timer-time" id="timer-display">02:00</div>
                        <div class="timer-controls">
                            <button class="timer-btn" onclick="setTimerDuration(60)">1min</button>
                            <button class="timer-btn" onclick="setTimerDuration(120)">2min</button>
                            <button class="timer-btn" onclick="setTimerDuration(180)">3min</button>
                            <button class="timer-btn" onclick="setTimerDuration(300)">5min</button>
                        </div>
                        <div class="timer-actions">
                            <button class="timer-action-btn start" onclick="startTimer()" id="start-timer-btn">
                                <i class="fas fa-play"></i> Iniciar
                            </button>
                            <button class="timer-action-btn pause" onclick="pauseTimer()" id="pause-timer-btn" style="display: none;">
                                <i class="fas fa-pause"></i> Pausar
                            </button>
                            <button class="timer-action-btn reset" onclick="resetTimer()">
                                <i class="fas fa-stop"></i> Reset
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Exercise Modal -->
        <div class="modal" id="exercise-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modal-exercise-name">Exerc√≠cio</h3>
                    <button class="close-btn" id="close-modal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="exercise-video" id="exercise-video">
                        <!-- Video/instructions will be loaded here -->
                    </div>
                    <div class="exercise-notes">
                        <label for="exercise-link">Link de Instru√ß√£o:</label>
                        <input type="url" id="exercise-link" placeholder="https://youtube.com/watch?v=...">
                        <button id="save-link">Salvar Link</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js?v=1.5.0"></script>
</body>
</html>